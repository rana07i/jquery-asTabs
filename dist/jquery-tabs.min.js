/*! jQuery tabs - v0.1.1 - 2013-08-08
* https://github.com/amazingSurge/jquery-tabs
* Copyright (c) 2013 amazingSurge; Licensed GPL */
(function(t,n,i,s){"use strict";var e=i.Tabs=function(t,n){var s=this;this.element=t,this.$element=i(t);var a=[];i.each(this.$element.data(),function(t,n){var i=RegExp("^tabs","i");i.test(t)&&(a[t.toLowerCase().replace(i,"")]=n)}),this.options=i.extend(!0,{},e.defaults,n,a),this.namespace=this.options.namespace,this.initialized=!1,this.classes={activeTab:this.namespace+"_active",activePanes:this.namespace+"_active",panes:this.namespace+"-panes",skin:this.namespace+"_"+this.options.skin},this.$tabItems=this.$element.children(),this.$panes=i(this.options.panes).addClass(this.classes.panes),this.$paneItems=this.$panes.children(),this.options.skin&&(this.$element.addClass(this.classes.skin),this.$panes.addClass(this.classes.skin)),this.$loading=i('<span class="'+this.namespace+'-loading"></span>'),this.options.ajax===!0&&(this.ajax=[],i.each(this.$tabItems,function(t,n){var e={};e.href=i(n).data("href"),s.ajax.push(e)})),this.init()};e.defaults={namespace:"tabs",panes:".panes",skin:null,initialIndex:0,ajax:!1,cached:!1,history:!1,keyboard:!1,ifAnimate:!1,animate:{inClass:"",outClass:""},event:"click"},e.prototype={constructor:e,init:function(){var t=this;this.$tabItems.on(this.options.event,function(n){var s=i(n.target).index();return t.active(s),t.afterActive(),!1}),this.$element.trigger("tabs::init",this),"function"===i.type(this.options.onInit)&&this.options.onInit(this),this.active(this.options.initialIndex),this.initialized=!0},active:function(t){this.current!==t&&(this.last=this.current,this.current=t,this.$tabItems.eq(t).addClass(this.classes.activeTab).siblings().removeClass(this.classes.activeTab),this.$paneItems.eq(t).addClass(this.classes.activePanes).siblings().removeClass(this.classes.activePanes),this.$element.trigger("tabs::active",this),"function"===i.type(this.options.onActive)&&this.options.onActive(this),this.options.ajax===!0&&this.ajaxLoad(t))},afterActive:function(){this.$element.trigger("tabs::afterActive",this),"function"===i.type(this.options.onAfterActive)&&this.options.onAfterActive(this)},ajaxLoad:function(t){var n,s=this;(this.options.cached!==!0||this.ajax[t].cached!==!0)&&(this.showLoading(),n=i.ajax({url:this.ajax[t].href}),n.done(function(n){s.ajax[t].cached=!0,s.hideLoading(),s.$paneItems.eq(t).html(n)}),n.fail(function(){s.hideLoading(),s.$paneItems.eq(t).html("failed")}))},showLoading:function(){this.$loading.appendTo(this.$panes)},hideLoading:function(){this.$loading.remove()},getTabs:function(){return this.$tabItems},getPanes:function(){return this.$paneItems},getCurrentPane:function(){return this.$paneItems.eq(this.current)},getCurrentTab:function(){return this.$tabItems.eq(this.current)},getIndex:function(){return this.current},next:function(){var t=this.$tabItems.length,n=this.current;t-1>n?n++:n=0,this.active(n)},prev:function(){var t=this.$tabItems.length,n=this.current;0===n?n=Math.abs(1-t):n-=1,this.active(n)},destroy:function(){this.$element.remove()}},i.fn.tabs=function(t){if("string"!=typeof t)return this.each(function(){i.data(this,"tabs")||i.data(this,"tabs",new e(this,t))});var n=t,a=arguments.length>1?Array.prototype.slice.call(arguments,1):s;if(!/^(getTabs|getPanes|getCurrentPane|getCurrentTab|getIndex)$/.test(n))return this.each(function(){var t=i.data(this,"tabs");t&&"function"==typeof t[n]&&t[n].apply(t,a)});var o=this.first().data("tabs");return o&&"function"==typeof o[n]?o[n].apply(o,a):s}})(window,document,jQuery),function(t,n,i){var s=i(n),e={states:{},refresh:!1,stopHashchangeEvent:!1,on:function(n,s){var e=this;i(t).on(n,function(t){return e.stopHashchangeEvent?!1:(s(t),!1)})},off:function(n){i(t).off(n)},pushState:function(t){for(id in t)this.states[id]=t[id];this.refresh=!1,this.stopHashchangeEvent=!0,setTimeout(i.proxy(this.changeStates,this),0)},changeStates:function(){var n=this,s="";this.refresh!==!0&&(i.each(this.states,function(t,n){s+=t+"="+n+"&"}),t.location.hash=s.substr(0,s.length-1),this.refresh=!0,setTimeout(function(){n.stopHashchangeEvent=!1},0))},getState:function(){var n,s=t.location.hash.replace("#","").replace("!",""),e={};return""===s?{}:(n=s.split("&"),i.each(n,function(t,n){if(0!=n){var i=n.match("#?(.*)=(.*)");i&&(e[i[1]]=i[2])}}),e)},reset:function(){this.refresh!==!0&&(this.states={},t.location.hash="#/",this.refresh=!0)}};s.on("tabs::init",function(t,n){if(n.options.history!==!1){var s=function(){var t,s=e.getState(),a=n.$element.attr("id");if(s[a]&&(t=i("#"+a).data("tabs"))){var o=n.$element.find("#"+s[a]);o.length>=1?t.active(n.$tabItems.index(o)):t.active(s[a])}};e.on("hashchange.tabs",s)}}),s.on("tabs::afterActive",function(t,n){var i=n.current,s={},a=n.$element.attr("id"),o=n.$tabItems.eq(i).attr("id");n.options.history!==!1&&(s[a]=o?o:i,e.pushState(s))}),setTimeout(function(){i(t).trigger("hashchange.tabs")},0)}(window,document,jQuery),function(t,n,i){var s=i(n),e={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:!1,press:function(t){var n=t.keyCode||t.which;n in e.map&&"function"==typeof e.map[n]&&e.map[n].call(self,t)},attach:function(t){var n,i;for(n in t)t.hasOwnProperty(n)&&(i=n.toUpperCase(),i in e.keys?e.map[e.keys[i]]=t[n]:e.map[i]=t[n]);e.bound||(e.bound=!0,s.bind("keydown",e.press))},detach:function(){e.bound=!1,e.map={},s.unbind("keydown",e.press)}};s.on("tabs::init",function(t,n){n.options.keyboard!==!1&&(n.$element.attr("tabindex","0").on("focus",function(){return e.attach({left:i.proxy(n.prev,n),right:i.proxy(n.next,n)}),!1}).on("blur",function(){return e.detach(),!1}),n.$panes.attr("tabindex","0").on("focus",function(){return e.attach({left:i.proxy(n.prev,n),right:i.proxy(n.next,n)}),!1}).on("blur",function(){return e.detach(),!1}))})}(window,document,jQuery),function(t,n,i){var s=i(n),e={options:{inClass:"",outClass:"",$block:null,$pages:null,onInit:null},animEndEventName:"",isAnimating:!1,current:0,total:0,inClass:"",outClass:"",$block:"",$pages:"",animEndEventNames:{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},init:function(t){this.options=i.extend({},this.options,t),this.$pages=this.options.$pages,this.$block=this.options.$block,this.inClass=this.formatClass(this.options.inClass),this.outClass=this.formatClass(this.options.outClass),this.total=this.options.$pages.length,this.animEndEventName=this.animEndEventNames[this.getTransitionPrefix()],this.$pages.each(function(t,n){i(n).addClass("et-page")}),this.$block.addClass("et-wrapper"),this.$pages.eq(this.current).addClass("et-page-current"),"function"===i.type(this.options.onInit)&&this.options.onInit(this.$block,this.$pages)},nextPage:function(){var t=this.current;return this.isAnimating?!1:(this.isAnimating=!0,this.current<this.total-1?this.current++:this.current=0,this.animate(t,this.current),undefined)},prevPage:function(){var t=this.current;return this.isAnimating?!1:(this.isAnimating=!0,this.current>0?this.current--:this.current=this.total-1,this.animate(t,this.current),undefined)},animate:function(t,n,i){var s=this,e=!1,a=!1,o=this.$pages.eq(t),r=this.$pages.eq(n);r.addClass("et-page-current"),o.addClass(this.outClass).on(this.animEndEventName,function(){o.off(s.animEndEventName),e=!0,a&&(jQuery.isFunction(i)&&i(s.$block,r,o),s.onEndAnimation(o,r))}),r.addClass(this.inClass).on(this.animEndEventName,function(){r.off(s.animEndEventName),a=!0,e&&s.onEndAnimation(o,r)})},onEndAnimation:function(t,n){this.resetPage(t,n),this.isAnimating=!1},resetPage:function(t,n){this.$pages.removeClass("et-page-current"),t.removeClass(this.outClass),n.removeClass(this.inClass).addClass("et-page-current")},formatClass:function(t){for(var n=t.split(" "),s=n.length,e="",a=0;s>a;a++)e+=" pt-page-"+n[a];return i.trim(e)},getTransitionPrefix:function(){var t=n.body||n.documentElement,i=["Moz","Webkit","Khtml","O","ms"],s=t.style,e="animation";if("string"==typeof s[e])return"animation";e=e.charAt(0).toUpperCase()+e.substr(1);for(var a=0;i.length>a;a++)if("string"==typeof s[i[a]+e])return i[a]+e;return!1}};s.on("tabs::init",function(t,n){return n.options.ifAnimate===!1?!1:(n.effects=i.extend(!0,{},e),n.effects.init({inClass:n.options.animate.inClass,outClass:n.options.animate.outClass,$block:n.$panes,$pages:n.$paneItems,onInit:function(t,n){n.css({display:"block"})}}),undefined)}),s.on("tabs::active",function(t,n){return n.options.ifAnimate===!1||n.initialized===!1?!1:(n.effects.animate(n.last,n.current),undefined)})}(window,document,jQuery);